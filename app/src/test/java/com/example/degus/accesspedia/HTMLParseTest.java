package com.example.degus.accesspedia;

import com.example.degus.accesspedia.content.ContentStandardizer;

import org.junit.Test;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

import static org.junit.Assert.assertEquals;

/**
 * Created by Dominik Nowak on 03/03/2018.
 */

public class HTMLParseTest {

    @Test
    public void extractFromHTMLShouldReturnValidData() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {
        String html = "<p><b>Rock</b> or <b>Rocks</b> may refer to:</p>\\n\\n<h2><span id=\\\"Common_meanings\\\">Common meanings</span></h2>\\n<ul><li>Rock (geology), a naturally occurring solid aggregate of minerals or mineraloids</li>\\n<li>Rock music, a form of popular music</li>\\n</ul><h2><span id=\\\"Places\\\">Places</span></h2>\\n<h3><span id=\\\"United_Kingdom\\\">United Kingdom</span></h3>\\n<ul><li>Rock, Cornwall, a village in England</li>\\n<li>Rock, County Tyrone, a village in Northern Ireland</li>\\n<li>Rock, Northumberland, a village in England</li>\\n<li>Rock, Worcestershire, a village and civil parish in England</li>\\n<li>Rock, a hamlet in Washington, West Sussex, England</li>\\n</ul><h3><span id=\\\"United_States\\\">United States</span></h3>\\n<ul><li>Rock, Kansas, an unincorporated community</li>\\n<li>Rock, Michigan, an unincorporated community</li>\\n<li>Rock, Missouri, an unincorporated community</li>\\n<li>Rock, West Virginia, an unincorporated community</li>\\n<li>Rock, Rock County, Wisconsin, a town in southern Wisconsin</li>\\n<li>Rock, Wood County, Wisconsin, a town in central Wisconsin</li>\\n</ul><h3><span id=\\\"Elsewhere\\\">Elsewhere</span></h3>\\n<ul><li>Corregidor, an island in the Philippines also known as \\\"The Rock\\\"</li>\\n<li>Jamaica, an island in the Caribbean is locally referred to as the \\\"Rock\\\"</li>\\n<li>Niue, an island near Tonga referred to as the \\\"Rock\\\" by residents</li>\\n<li>Rock of Gibraltar, a British overseas territory near the southernmost tip of Spain</li>\\n</ul><h3><span id=\\\"Multiple_entities\\\">Multiple entities</span></h3>\\n<ul><li>Rock County (disambiguation)</li>\\n<li>Rock Creek (disambiguation)</li>\\n<li>Rock Island (disambiguation)</li>\\n<li>Rock Lake (disambiguation)</li>\\n<li>Rock River (disambiguation)</li>\\n<li>Rock Mountain (disambiguation)</li>\\n<li>Rock Township (disambiguation)</li>\\n</ul><h2><span id=\\\"People\\\">People</span></h2>\\n<ul><li>Rock (name), a list of people with the surname, first name or nickname</li>\\n<li>Rock (rapper) (born Jamal Bush in 1975), American rapper</li>\\n<li>The Rock, (born Dwayne Johnson in 1972), American actor and wrestler</li>\\n<li>Man Mountain Rock, later stage name used by professional wrestler Maxx Payne</li>\\n</ul><h2><span id=\\\"Arts.2C_entertainment.2C_and_media\\\"></span><span id=\\\"Arts,_entertainment,_and_media\\\">Arts, entertainment, and media</span></h2>\\n<h3><span id=\\\"Fictional_characters\\\">Fictional characters</span></h3>\\n<ul><li>Rock (comics), in the DC Comics universe</li>\\n<li>Rock (manga), a recurring, major character in most of Osamu Tezuka's manga series</li>\\n<li>Rock Howard, the playable character in <i>Garou: Mark of the Wolves</i></li>\\n<li>Mega Man (character), from the series of the same name, whose other name is Rock</li>\\n<li>Chuck Rock, the playable character in the 1991 self-titled side-scrolling platform video game</li>\\n<li>Sgt. Rock, a DC Comics character</li>\\n</ul><h3><span id=\\\"Literature\\\">Literature</span></h3>\\n<ul><li><i>Rock</i> (magazine), a former Yugoslav music magazine</li>\\n<li><i>Rock</i>, a novel by Hal Ellson</li>\\n</ul><h3><span id=\\\"Music\\\">Music</span></h3>\\n<dl><dt>Labels</dt>\\n</dl><ul><li>Rock Records, a Taiwanese record label founded in 1980</li>\\n</ul><dl><dt>Albums</dt>\\n</dl><ul><li><i>Rock</i> (album), a 2003 nu-metal album by Pleymo</li>\\n<li><i>Rock</i> (Casting Pearls EP) (2002)</li>\\n<li><i>Rocks</i> (Aerosmith album) (1976)</li>\\n<li><i>Rocks</i> (Harem Scarem album) (2001)</li>\\n<li><i>R.O.C.K.</i>, a 1986 hard rock/heavy metal album by Kirka</li>\\n<li><i>Rock!!!!!</i>, an album released by Violent Femmes in 1995</li>\\n<li>The Cosmos Rocks, a studio album by Queen and Paul Rodgers (2008)</li>\\n</ul><dl><dt>Songs</dt>\\n</dl><ul><li>\\\"Rocks\\\" (song), by Primal Scream (1994)</li>\\n<li>\\\"Rock\\\", one of the tracks on \\\"Soft/Rock\\\", a single by Lemon Jelly</li>\\n</ul><h2><span id=\\\"Computing_and_technology\\\">Computing and technology</span></h2>\\n<ul><li>Rock (processor), a microprocessor by Sun Microsystems</li>\\n<li>Rocks (PHP)</li>\\n<li>Rocks Cluster Distribution, Linux distribution for cluster computing</li>\\n</ul><h2><span id=\\\"Food\\\">Food</span></h2>\\n<ul><li>Rock (confectionery), a type of stick-shaped boiled sugar confectionery</li>\\n<li>Rock salmon, often referred to as rock</li>\\n</ul><h2><span id=\\\"Slang\\\">Slang</span></h2>\\n<ul><li>Crack cocaine or rock</li>\\n<li>Diamond or rock</li>\\n<li>Gemstone or rock</li>\\n</ul><h2><span id=\\\"Sports\\\">Sports</span></h2>\\n<ul><li>Rock, used in the sport of curling</li>\\n<li>\\\"Rocks\\\", a nickname of the Colorado Rockies Major League Baseball team</li>\\n<li>Toronto Rock, of the National Lacrosse League</li>\\n</ul><h2><span id=\\\"Other_uses\\\">Other uses</span></h2>\\n<ul><li>Distaff, a tool used in spinning</li>\\n<li>Memorial Stadium (Indiana), on the Indiana University campus, also known as The Rock</li>\\n<li>Uprock or rock, a form of street dance</li>\\n<li>USS <i>Rock</i> (SS-274), a US Navy submarine</li>\\n</ul><h2><span id=\\\"See_also\\\">See also</span></h2>\\n<ul><li><span>All pages beginning with \\\"Rock\\\"</span></li>\\n<li><span>All pages with a title containing <i>Rock</i></span></li>\\n<li>.rocks</li>\\n<li>ROC (disambiguation)</li>\\n<li>ROCK (disambiguation)</li>\\n<li>ROCK1, a human gene</li>\\n<li>Rockey (disambiguation)</li>\\n<li>Rockies (disambiguation)</li>\\n<li>Rocky (disambiguation)</li>\\n<li>Rok (disambiguation)</li>\\n<li>Roque (disambiguation)</li>\\n<li>Rox (disambiguation)</li>\\n<li>The Rock (disambiguation)</li>\\n</ul>";
        Method method = ContentStandardizer.class.getDeclaredMethod("extractFirstRelatedTherm", String.class);
        method.setAccessible(true);
        String result = (String) method.invoke(null, html);
        assertEquals(result, "Rock (geology)");
    }
}
